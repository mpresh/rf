{% extends "site_base.html" %}

	{% block  js_css_include %}
        <script type="text/javascript" src="{% url static 'javascript/jquery-ui-1.8.1.custom.js' %}"></script>
	<script type="text/javascript" src="{% url static 'javascript/ajaxfileupload.js' %}"> </script>
	<script type="text/javascript" src="{% url static 'javascript/jquery.uploadify.js' %}"> </script>
	<script type="text/javascript" src="{% url static 'javascript/jquery.showLoading.js' %}" ></script>	

	<link rel="stylesheet" href="{% url static 'css/showLoading.css' %}" type="text/css" />	
	<link type="text/css" href="{% url static 'css/jquery-ui-1.8.1.custom.css' %}" rel="Stylesheet" />
	<script type="text/javascript" src="{% url static 'javascript/jquery-ui-1.8.4.custom.min.js' %}"></script>

	<script type="text/javascript" src="{% url static 'javascript/jquery.cleditor.min.js' %}"></script>
	<link type="text/css" href="{% url static 'css/jquery.cleditor.css' %}" rel="Stylesheet" />

 	<link rel="stylesheet" href="{% url static 'css/create.css' %}" type="text/css" />
 	<link rel="stylesheet" href="{% url static 'css/campaign_widget.css' %}" type="text/css" />

	<script type="text/javascript" src="{% url static 'javascript/farbtastic.js' %}" ></script>	
 	<link rel="stylesheet" href="{% url static 'css/colorpicker/farbtastic.css' %}" type="text/css" />


	{% endblock %}

{% block title %}Widget{% endblock %}


{% block site-content %}

<br/><br/><br/>


<div id="widget-wrapper" class="create">

<div id="widget-preview">
   <div id="ripple-embed">{{campaign.id}}</div>
   <script type="text/javascript" src="http://www.ripplefunction.com/site_media/javascript/embed-iframe.js"></script> 
</div>

<div id="widget-features">
    <ul>
    <li>
        <div style="float:left;">
        <label for="widget-background-color">Background Color Top:&nbsp;&nbsp; </label>
        <input type="color" value="#d2f6d0" size="10" name="widget-background-color" id="widget-background-color"/>
        <button id="hide-color" style="display:none;">Hide</button>
        <div id="picker" style="display:none; border: 1px solid gray; text-alighn: center; padding-left: 50px;"></div>
        </div>
        <div style="float:right;">
        <label for="widget-background-color">Background Color Bottom:&nbsp;&nbsp; </label>
        <input type="color" value="#d2f6d0" size="10" name="widget-background-color" id="widget-background-color"/>
        <button id="hide-color" style="display:none;">Hide</button>
        <div id="picker" style="display:none; border: 1px solid gray; text-alighn: center; padding-left: 50px;"></div>
        </div>
    </li>
    
    <li>
        <label for="message">Message:&nbsp;&nbsp; </label>
        <textarea id="widget-message">{{campaign.title}}</textarea>&nbsp;&nbsp;
    </li>



    
    <li>
       <label for="widget-background-image">Background Image &nbsp;&nbsp;</label>
       <button id="widget-remove-img" style="display:none;">Remove Img</button>
       <input name="widget-background-image" id="widget-background-image" type="file"> </input>
    </li>
    </ul>

    <button id="getcode"></button>
</div>
</div>

<div id="dialog" title="Embeddable Code" style="display:none;">
  <textarea id="code"></textarea>
</div>


<div id="admin_console" class="create">
        Back To Admin Page: &nbsp;&nbsp;&nbsp;&nbsp;<a href="{{admin_url}}">{{admin_url}}</a><br/>
</div>



<script>

  $("#getcode").text("<Get Embeddable Code>");
  
 


$("#getcode").click(function(){
    $("#code").val("<div id=\'ripple-embed\'>{{campaign.id}}<\/div><script type=\'text\/javascript\' src=\'http:\/\/www.ripplefunction.com\/site_media\/javascript\/embed-iframe.js\' \>\<\/script\>");
    
	  

    $("#dialog").dialog({
        "width": 500,
        "height": 400,
     });
    
});




// message
$("#widget-message").cleditor({height: 120, 
                               width: "100%",
                               fonts:        // font names in the font popup
                                     "Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond," +
                                     "Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",
                               sizes:        // sizes in the font size popup
                                     "1,2,3,4,5,6,7",
                               controls:     // controls to add to the toolbar
                                     "bold italic underline strikethrough | font size style | color highlight removeformat | rule image link | html",
                               colors:       // colors in the color popup
                        "FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF " +
                        "CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F " +
                        "BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C " +
                        "999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C " +
                        "666 900 C60 C93 990 090 399 33F 60C 939 " +
                        "333 600 930 963 660 060 366 009 339 636 " +
                        "000 300 630 633 330 030 033 006 309 303",  
                             docCSSFile:   // CSS file used to style the document contained within the editor.
                        "", 
                         bodyStyle:    // style to assign to document body contained within the editor
                        "margin:4px; font:10pt Arial,Verdana; cursor:text"

});
//
</script>


{% endblock %}
